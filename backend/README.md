# üöÄ Haskell Book Server

–í–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–Ω–∏–≥–∏ –ø–æ –∏–∑—É—á–µ–Ω–∏—é Haskell. –°–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–∑—É—á–µ–Ω–∏—è —è–∑—ã–∫–∞.

## üìö –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ Haskell –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ö–∞–∂–¥–∞—è –≥–ª–∞–≤–∞ –∫–Ω–∏–≥–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫ —Å–µ—Ä–≤–µ—Ä—É, –ø–æ–∫–∞–∑—ã–≤–∞—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ Main.hs              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ Api/
‚îÇ   ‚îú‚îÄ‚îÄ Types.hs         # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è API
‚îÇ   ‚îî‚îÄ‚îÄ Handlers.hs      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ Data/
‚îÇ   ‚îú‚îÄ‚îÄ Chapter.hs       # –î–∞–Ω–Ω—ã–µ –≥–ª–∞–≤ –∫–Ω–∏–≥–∏
‚îÇ   ‚îî‚îÄ‚îÄ User.hs          # –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îî‚îÄ‚îÄ Utils/
    ‚îî‚îÄ‚îÄ Json.hs          # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JSON
```

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- GHC 9.4.7+
- Cabal 3.8+

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Haskell –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ GHCup (–º–µ–Ω–µ–¥–∂–µ—Ä –≤–µ—Ä—Å–∏–π Haskell)
curl --proto '=https' --tlsv1.2 -sSf https://get-ghcup.haskell.org | sh

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
ghcup install ghc 9.4.7
ghcup install cabal 3.8.1.0
ghcup set ghc 9.4.7
```

### –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
cabal update
cabal build

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
cabal run haskell-book-server
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8080

## üåê API Endpoints

### –ì–ª–∞–≤—ã
- `GET /api/chapters` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –≥–ª–∞–≤—ã
- `GET /api/chapters/:id` - –ü–æ–ª—É—á–∏—Ç—å –≥–ª–∞–≤—É –ø–æ ID

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `GET /api/users/:id` - –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/users/:id/progress` - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü—Ä–æ–≥—Ä–µ—Å—Å
- `GET /api/progress` - –ü–æ–ª—É—á–∏—Ç—å –æ–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
- `POST /api/progress/update` - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

```bash
# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –≥–ª–∞–≤—ã
curl http://localhost:8080/api/chapters

# –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≥–ª–∞–≤—É
curl http://localhost:8080/api/chapters/intro

# –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
curl http://localhost:8080/api/progress

# –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
curl -X POST http://localhost:8080/api/progress/update \
  -H "Content-Type: application/json" \
  -d '{"updateChapterId":"ch1","updateCompleted":true,"updateBookmarked":false}'
```

## üìñ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

- **scotty** - –õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **aeson** - JSON –ø–∞—Ä—Å–∏–Ω–≥ –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
- **wai-cors** - CORS middleware
- **text** - –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ç–µ–∫—Å—Ç–æ–º
- **time** - –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º

## üéØ –û–±—É—á–∞—é—â–∏–µ —Ü–µ–ª–∏

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:

1. **–§—É–Ω–∫—Ü–∏–∏ –∏ —Ç–∏–ø—ã** - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ API
2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö** - –†–∞–±–æ—Ç–∞ —Å–æ —Å–ø–∏—Å–∫–∞–º–∏ –∏ JSON
3. **IO –∏ –º–æ–Ω–∞–¥—ã** - –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Å–µ—Ç—å—é
4. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞ –≤ –º–æ–¥—É–ª–∏
5. **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ** - –†–µ–∞–ª—å–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä

## üîÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—É—á–µ–Ω–∏—è

1. **–ì–ª–∞–≤–∞ 1**: Hello World —Å–µ—Ä–≤–µ—Ä
2. **–ì–ª–∞–≤–∞ 2**: –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è API endpoints
3. **–ì–ª–∞–≤–∞ 3**: –†–∞–±–æ—Ç–∞ —Å–æ —Å–ø–∏—Å–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
4. **–ì–ª–∞–≤–∞ 4**: IO –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –º–æ–Ω–∞–¥—ã
5. **–ì–ª–∞–≤–∞ 5**: –ê–ª–≥–µ–±—Ä–∞–∏—á–µ—Å–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
6. **–ì–ª–∞–≤–∞ 6**: JSON –ø–∞—Ä—Å–∏–Ω–≥ –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
7. **–ì–ª–∞–≤–∞ 7**: –ü–µ—Ä–≤—ã–π —Ä–∞–±–æ—á–∏–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä ‚≠ê
8. **–ì–ª–∞–≤–∞ 8**: REST API –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
9. **–ì–ª–∞–≤–∞ 9**: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
10. **–ì–ª–∞–≤–∞ 10**: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
11. **–ì–ª–∞–≤–∞ 11**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
12. **–ì–ª–∞–≤–∞ 12**: –î–µ–ø–ª–æ–π –∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç

## üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Haskell

- **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –û—à–∏–±–∫–∏ –ª–æ–≤—è—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- **–ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å**: –î–∞–Ω–Ω—ã–µ –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è, —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ
- **–ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**: –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- **–õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è**: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **–ú–æ—â–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤**: –í—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è –æ—Å–Ω–æ–≤ –º–æ–∂–Ω–æ:

- –î–æ–±–∞–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (PostgreSQL/SQLite)
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é JWT
- –°–æ–∑–¥–∞—Ç—å WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ Redis
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°–æ–∑–¥–∞—Ç—å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD pipeline

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ –≤ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö! 